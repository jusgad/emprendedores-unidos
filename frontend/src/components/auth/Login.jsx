import { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../../context/AuthContext';\nimport { Eye, EyeOff, Mail, Lock, AlertCircle } from 'lucide-react';\nimport toast from 'react-hot-toast';\n\nconst Login = () => {\n  const [formData, setFormData] = useState({\n    email: '',\n    password: ''\n  });\n  const [showPassword, setShowPassword] = useState(false);\n  const { login, loading, error, clearError } = useAuth();\n  const navigate = useNavigate();\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    if (error) clearError();\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      await login(formData);\n      toast.success('¡Bienvenido de vuelta!');\n      navigate('/');\n    } catch (error) {\n      toast.error(error.response?.data?.error || 'Error al iniciar sesión');\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-md w-full space-y-8\">\n        <div className=\"text-center\">\n          <h2 className=\"mt-6 text-3xl font-extrabold text-gray-900\">\n            Iniciar Sesión\n          </h2>\n          <p className=\"mt-2 text-sm text-gray-600\">\n            ¿No tienes cuenta?{' '}\n            <Link to=\"/register\" className=\"font-medium text-indigo-600 hover:text-indigo-500\">\n              Regístrate aquí\n            </Link>\n          </p>\n        </div>\n\n        <div className=\"bg-white py-8 px-6 shadow-lg rounded-xl\">\n          {error && (\n            <div className=\"mb-4 bg-red-50 border border-red-200 rounded-md p-4\">\n              <div className=\"flex items-center\">\n                <AlertCircle className=\"h-5 w-5 text-red-400 mr-2\" />\n                <span className=\"text-sm text-red-800\">{error}</span>\n              </div>\n            </div>\n          )}\n\n          <form className=\"space-y-6\" onSubmit={handleSubmit}>\n            <div>\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">\n                Email\n              </label>\n              <div className=\"mt-1 relative\">\n                <input\n                  id=\"email\"\n                  name=\"email\"\n                  type=\"email\"\n                  autoComplete=\"email\"\n                  required\n                  value={formData.email}\n                  onChange={handleChange}\n                  className=\"appearance-none block w-full px-3 py-2 pl-10 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n                  placeholder=\"tu@email.com\"\n                />\n                <Mail className=\"h-5 w-5 text-gray-400 absolute left-3 top-2.5\" />\n              </div>\n            </div>\n\n            <div>\n              <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">\n                Contraseña\n              </label>\n              <div className=\"mt-1 relative\">\n                <input\n                  id=\"password\"\n                  name=\"password\"\n                  type={showPassword ? 'text' : 'password'}\n                  autoComplete=\"current-password\"\n                  required\n                  value={formData.password}\n                  onChange={handleChange}\n                  className=\"appearance-none block w-full px-3 py-2 pl-10 pr-10 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n                  placeholder=\"Tu contraseña\"\n                />\n                <Lock className=\"h-5 w-5 text-gray-400 absolute left-3 top-2.5\" />\n                <button\n                  type=\"button\"\n                  className=\"absolute inset-y-0 right-0 pr-3 flex items-center\"\n                  onClick={() => setShowPassword(!showPassword)}\n                >\n                  {showPassword ? (\n                    <EyeOff className=\"h-5 w-5 text-gray-400 hover:text-gray-600\" />\n                  ) : (\n                    <Eye className=\"h-5 w-5 text-gray-400 hover:text-gray-600\" />\n                  )}\n                </button>\n              </div>\n            </div>\n\n            <div className=\"flex items-center justify-between\">\n              <div className=\"text-sm\">\n                <Link to=\"/forgot-password\" className=\"font-medium text-indigo-600 hover:text-indigo-500\">\n                  ¿Olvidaste tu contraseña?\n                </Link>\n              </div>\n            </div>\n\n            <div>\n              <button\n                type=\"submit\"\n                disabled={loading}\n                className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                {loading ? (\n                  <div className=\"flex items-center\">\n                    <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n                    Iniciando sesión...\n                  </div>\n                ) : (\n                  'Iniciar Sesión'\n                )}\n              </button>\n            </div>\n          </form>\n\n          <div className=\"mt-6\">\n            <div className=\"relative\">\n              <div className=\"absolute inset-0 flex items-center\">\n                <div className=\"w-full border-t border-gray-300\" />\n              </div>\n              <div className=\"relative flex justify-center text-sm\">\n                <span className=\"px-2 bg-white text-gray-500\">Demo rápido</span>\n              </div>\n            </div>\n\n            <div className=\"mt-6 grid grid-cols-2 gap-3\">\n              <button\n                type=\"button\"\n                onClick={() => {\n                  setFormData({\n                    email: 'comprador@demo.com',\n                    password: 'demo123'\n                  });\n                }}\n                className=\"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50\"\n              >\n                Demo Comprador\n              </button>\n              <button\n                type=\"button\"\n                onClick={() => {\n                  setFormData({\n                    email: 'vendedor@demo.com',\n                    password: 'demo123'\n                  });\n                }}\n                className=\"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50\"\n              >\n                Demo Vendedor\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;